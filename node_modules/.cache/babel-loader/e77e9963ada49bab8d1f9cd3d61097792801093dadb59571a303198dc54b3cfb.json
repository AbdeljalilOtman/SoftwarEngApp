{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Abdeljalil Otman/Desktop/frontendSofW/SoftwarEngApp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/Abdeljalil Otman/Desktop/frontendSofW/SoftwarEngApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport api from '@/services/api.js';\nexport default {\n  name: 'Account',\n  data: function data() {\n    return {\n      name: '',\n      email: '',\n      fieldOfInterest: '',\n      institutionName: '',\n      programName: '',\n      resumeUrl: '',\n      portfolioUrl: ''\n    };\n  },\n  created: function created() {\n    var _this = this;\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var userId, response, userData;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            userId = _this.$route.params.userId;\n            if (userId) {\n              _context.next = 5;\n              break;\n            }\n            console.error('User ID is missing from the route');\n            return _context.abrupt(\"return\");\n          case 5:\n            _context.next = 7;\n            return api.get(\"http://localhost:8080/api/job-seekers/\".concat(userId));\n          case 7:\n            response = _context.sent;\n            userData = response.data; // Populate form fields\n            _this.name = userData.name || '';\n            _this.email = userData.email || '';\n            _this.fieldOfInterest = userData.fieldOfInterest || '';\n            _this.institutionName = userData.institutionName || '';\n            _this.programName = userData.programName || '';\n            _this.resumeUrl = userData.resumeUrl || '';\n            _this.portfolioUrl = userData.portfolioUrl || '';\n            _context.next = 21;\n            break;\n          case 18:\n            _context.prev = 18;\n            _context.t0 = _context[\"catch\"](0);\n            console.error('Error loading user data:', _context.t0);\n          case 21:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 18]]);\n    }))();\n  },\n  methods: {\n    updateAccount: function updateAccount() {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var userId, payload;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              userId = _this2.$route.params.userId;\n              if (userId) {\n                _context2.next = 5;\n                break;\n              }\n              alert(\"User ID is missing. Can't update.\");\n              return _context2.abrupt(\"return\");\n            case 5:\n              payload = {\n                name: _this2.name || null,\n                fieldOfInterest: _this2.fieldOfInterest || null,\n                institutionName: _this2.institutionName || null,\n                programName: _this2.programName || null,\n                resumeUrl: _this2.resumeUrl || null,\n                portfolioUrl: _this2.portfolioUrl || null\n              };\n              _context2.next = 8;\n              return api.put(\"http://localhost:8080/api/job-seekers/\".concat(userId), payload);\n            case 8:\n              alert('Account updated successfully!');\n              _context2.next = 15;\n              break;\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error('Update Account Error:', _context2.t0);\n              alert('Failed to update account. Check console for details.');\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[0, 11]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["api","name","data","email","fieldOfInterest","institutionName","programName","resumeUrl","portfolioUrl","created","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userId","response","userData","wrap","_callee$","_context","prev","next","$route","params","console","error","abrupt","get","concat","sent","t0","stop","methods","updateAccount","_this2","_callee2","payload","_callee2$","_context2","alert","put"],"sources":["C:\\Users\\Abdeljalil Otman\\Desktop\\frontendSofW\\SoftwarEngApp\\src\\pages\\Account.vue"],"sourcesContent":["<template>\r\n  <div class=\"account-page\">\r\n    <div class=\"header-row\">\r\n      <h2>My Account</h2>\r\n      <router-link to=\"/dashboard\" class=\"btn-link\">Back to Dashboard</router-link>\r\n    </div>\r\n    \r\n    <form @submit.prevent=\"updateAccount\" class=\"account-form\">\r\n      <div>\r\n        <label>Name:</label>\r\n        <input v-model=\"name\" type=\"text\" />\r\n      </div>\r\n      <div>\r\n        <label>Email:</label>\r\n        <input v-model=\"email\" type=\"email\" disabled />\r\n      </div>\r\n      <div>\r\n        <label>Field of Expertise:</label>\r\n        <input v-model=\"fieldOfInterest\" type=\"text\" />\r\n      </div>\r\n      <div>\r\n        <label>Institution Name:</label>\r\n        <input v-model=\"institutionName\" type=\"text\" />\r\n      </div>\r\n      <div>\r\n        <label>Program Name:</label>\r\n        <input v-model=\"programName\" type=\"text\" />\r\n      </div>\r\n      <div>\r\n        <label>Resume URL:</label>\r\n        <input v-model=\"resumeUrl\" type=\"text\" />\r\n      </div>\r\n      <div>\r\n        <label>Portfolio URL:</label>\r\n        <input v-model=\"portfolioUrl\" type=\"text\" />\r\n      </div>\r\n      \r\n      <button type=\"submit\">Save Changes</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/services/api.js';\r\n\r\nexport default {\r\n  name: 'Account',\r\n  data() {\r\n    return {\r\n      name: '',\r\n      email: '',\r\n      fieldOfInterest: '',\r\n      institutionName: '',\r\n      programName: '',\r\n      resumeUrl: '',\r\n      portfolioUrl: '',\r\n    };\r\n  },\r\n  async created() {\r\n    try {\r\n      const userId = this.$route.params.userId;\r\n      if (!userId) {\r\n        console.error('User ID is missing from the route');\r\n        return;\r\n      }\r\n      \r\n      const response = await api.get(`http://localhost:8080/api/job-seekers/${userId}`);\r\n      const userData = response.data;\r\n\r\n      // Populate form fields\r\n      this.name = userData.name || '';\r\n      this.email = userData.email || '';\r\n      this.fieldOfInterest = userData.fieldOfInterest || '';\r\n      this.institutionName = userData.institutionName || '';\r\n      this.programName = userData.programName || '';\r\n      this.resumeUrl = userData.resumeUrl || '';\r\n      this.portfolioUrl = userData.portfolioUrl || '';\r\n    } catch (error) {\r\n      console.error('Error loading user data:', error);\r\n    }\r\n  },\r\n  methods: {\r\n    async updateAccount() {\r\n      try {\r\n        const userId = this.$route.params.userId;\r\n        if (!userId) {\r\n          alert(\"User ID is missing. Can't update.\");\r\n          return;\r\n        }\r\n\r\n        const payload = {\r\n          name: this.name || null,\r\n          fieldOfInterest: this.fieldOfInterest || null,\r\n          institutionName: this.institutionName || null,\r\n          programName: this.programName || null,\r\n          resumeUrl: this.resumeUrl || null,\r\n          portfolioUrl: this.portfolioUrl || null,\r\n        };\r\n\r\n        await api.put(`http://localhost:8080/api/job-seekers/${userId}`, payload);\r\n        alert('Account updated successfully!');\r\n      } catch (error) {\r\n        console.error('Update Account Error:', error);\r\n        alert('Failed to update account. Check console for details.');\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.account-page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2rem;\r\n}\r\n\r\n.header-row {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.account-form {\r\n  max-width: 400px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n}\r\n\r\n.btn-link {\r\n  background-color: #4caf50;\r\n  color: #fff !important;\r\n  padding: 0.6rem 1.2rem;\r\n  border-radius: 4px;\r\n  text-decoration: none;\r\n  transition: background-color 0.2s;\r\n}\r\n.btn-link:hover {\r\n  background-color: #43a047;\r\n  color: #fff;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}