{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Abdeljalil Otman/Desktop/frontendSofW/SoftwarEngApp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/Abdeljalil Otman/Desktop/frontendSofW/SoftwarEngApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"C:/Users/Abdeljalil Otman/Desktop/frontendSofW/SoftwarEngApp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { mapState } from 'vuex';\nimport api from '@/services/api.js'; // <-- use custom axios instance\n\nexport default {\n  name: 'Account',\n  data: function data() {\n    return {\n      name: '',\n      email: '',\n      fieldOfInterest: '',\n      institutionName: '',\n      programName: '',\n      resumeUrl: '',\n      portfolioUrl: ''\n    };\n  },\n  computed: _objectSpread({}, mapState(['user'])),\n  mounted: function mounted() {\n    if (this.user) {\n      this.name = this.user.name;\n      this.email = this.user.email;\n      this.fieldOfInterest = this.user.fieldOfInterest;\n      this.institutionName = this.user.institutionName;\n      this.programName = this.user.programName;\n      this.resumeUrl = this.user.resumeUrl;\n      this.portfolioUrl = this.user.portfolioUrl;\n    }\n  },\n  methods: {\n    updateAccount: function updateAccount() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var payload, response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              if (!(!_this.user || !_this.user.id)) {\n                _context.next = 4;\n                break;\n              }\n              alert(\"User not found in store. Can't update.\");\n              return _context.abrupt(\"return\");\n            case 4:\n              payload = {\n                name: _this.name,\n                fieldOfInterest: _this.fieldOfInterest,\n                institutionName: _this.institutionName,\n                programName: _this.programName,\n                resumeUrl: _this.resumeUrl,\n                portfolioUrl: _this.portfolioUrl\n              }; // Example endpoint: PUT /api/jobseekers/:id\n              _context.next = 7;\n              return api.put(\"http://localhost:8080/api/job-seekers/\".concat(_this.user.id), payload);\n            case 7:\n              response = _context.sent;\n              // Potentially update the store with new user data: \n              // this.$store.commit('SET_USER', response.data);\n\n              alert('Account updated successfully!');\n              _context.next = 15;\n              break;\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('Update Account Error:', _context.t0);\n              alert('Failed to update account. Check console for details.');\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 11]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["mapState","api","name","data","email","fieldOfInterest","institutionName","programName","resumeUrl","portfolioUrl","computed","_objectSpread","mounted","user","methods","updateAccount","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","payload","response","wrap","_callee$","_context","prev","next","id","alert","abrupt","put","concat","sent","t0","console","error","stop"],"sources":["C:\\Users\\Abdeljalil Otman\\Desktop\\frontendSofW\\SoftwarEngApp\\src\\pages\\Account.vue"],"sourcesContent":["<template>\r\n    <div class=\"account-page\">\r\n      <div class=\"header-row\">\r\n        <h2>My Account</h2>\r\n        <router-link to=\"/dashboard\" class=\"btn-link\">Back to Dashboard</router-link>\r\n      </div>\r\n  \r\n      <form @submit.prevent=\"updateAccount\" class=\"account-form\">\r\n        <div>\r\n          <label>Name:</label>\r\n          <input v-model=\"name\" type=\"text\" />\r\n        </div>\r\n        <div>\r\n          <label>Email:</label>\r\n          <input v-model=\"email\" type=\"email\" disabled />\r\n        </div>\r\n        <div>\r\n          <label>Field of Expertise:</label>\r\n          <input v-model=\"fieldOfInterest\" type=\"text\" />\r\n        </div>\r\n        <div>\r\n          <label>Institution Name:</label>\r\n          <input v-model=\"institutionName\" type=\"text\" />\r\n        </div>\r\n        <div>\r\n          <label>Program Name:</label>\r\n          <input v-model=\"programName\" type=\"text\" />\r\n        </div>\r\n        <div>\r\n          <label>Resume URL:</label>\r\n          <input v-model=\"resumeUrl\" type=\"text\" />\r\n        </div>\r\n        <div>\r\n          <label>Portfolio URL:</label>\r\n          <input v-model=\"portfolioUrl\" type=\"text\" />\r\n        </div>\r\n  \r\n        <button type=\"submit\">Save Changes</button>\r\n      </form>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { mapState } from 'vuex';\r\n  import api from '@/services/api.js'; // <-- use custom axios instance\r\n  \r\n  export default {\r\n    name: 'Account',\r\n    data() {\r\n      return {\r\n        name: '',\r\n        email: '',\r\n        fieldOfInterest: '',\r\n        institutionName: '',\r\n        programName: '',\r\n        resumeUrl: '',\r\n        portfolioUrl: '',\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapState(['user'])\r\n    },\r\n    mounted() {\r\n      if (this.user) {\r\n        this.name = this.user.name;\r\n        this.email = this.user.email;\r\n        this.fieldOfInterest = this.user.fieldOfInterest;\r\n        this.institutionName = this.user.institutionName;\r\n        this.programName = this.user.programName;\r\n        this.resumeUrl = this.user.resumeUrl;\r\n        this.portfolioUrl = this.user.portfolioUrl;\r\n      }\r\n    },\r\n    methods: {\r\n      async updateAccount() {\r\n        try {\r\n          if (!this.user || !this.user.id) {\r\n            alert(\"User not found in store. Can't update.\");\r\n            return;\r\n          }\r\n  \r\n          const payload = {\r\n            name: this.name,\r\n            fieldOfInterest: this.fieldOfInterest,\r\n            institutionName: this.institutionName,\r\n            programName: this.programName,\r\n            resumeUrl: this.resumeUrl,\r\n            portfolioUrl: this.portfolioUrl\r\n          };\r\n  \r\n          // Example endpoint: PUT /api/jobseekers/:id\r\n          const response = await api.put(`http://localhost:8080/api/job-seekers/${this.user.id}`, payload);\r\n          // Potentially update the store with new user data: \r\n          // this.$store.commit('SET_USER', response.data);\r\n  \r\n          alert('Account updated successfully!');\r\n        } catch (error) { \r\n          console.error('Update Account Error:', error);\r\n          alert('Failed to update account. Check console for details.');\r\n        }\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .account-page {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 2rem;\r\n  }\r\n  \r\n  .header-row {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n  \r\n  .account-form {\r\n    max-width: 400px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 1rem;\r\n  }\r\n  \r\n  /* Example styling for the \"Back to Dashboard\" link */\r\n  .btn-link {\r\n    background-color: #4caf50;\r\n    color: #fff !important;\r\n    padding: 0.6rem 1.2rem;\r\n    border-radius: 4px;\r\n    text-decoration: none;\r\n    transition: background-color 0.2s;\r\n  }\r\n  .btn-link:hover {\r\n    background-color: #43a047;\r\n    color: #fff;\r\n  }\r\n  </style>\r\n  "],"mappings":";;;;AA2CE,SAASA,QAAO,QAAS,MAAM;AAC/B,OAAOC,GAAE,MAAO,mBAAmB,EAAE;;AAErC,eAAe;EACbC,IAAI,EAAE,SAAS;EACfC,IAAI,WAAJA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLD,IAAI,EAAE,EAAE;MACRE,KAAK,EAAE,EAAE;MACTC,eAAe,EAAE,EAAE;MACnBC,eAAe,EAAE,EAAE;MACnBC,WAAW,EAAE,EAAE;MACfC,SAAS,EAAE,EAAE;MACbC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAAC,aAAA,KACHX,QAAQ,CAAC,CAAC,MAAM,CAAC,EACrB;EACDY,OAAO,WAAPA,OAAOA,CAAA,EAAG;IACR,IAAI,IAAI,CAACC,IAAI,EAAE;MACb,IAAI,CAACX,IAAG,GAAI,IAAI,CAACW,IAAI,CAACX,IAAI;MAC1B,IAAI,CAACE,KAAI,GAAI,IAAI,CAACS,IAAI,CAACT,KAAK;MAC5B,IAAI,CAACC,eAAc,GAAI,IAAI,CAACQ,IAAI,CAACR,eAAe;MAChD,IAAI,CAACC,eAAc,GAAI,IAAI,CAACO,IAAI,CAACP,eAAe;MAChD,IAAI,CAACC,WAAU,GAAI,IAAI,CAACM,IAAI,CAACN,WAAW;MACxC,IAAI,CAACC,SAAQ,GAAI,IAAI,CAACK,IAAI,CAACL,SAAS;MACpC,IAAI,CAACC,YAAW,GAAI,IAAI,CAACI,IAAI,CAACJ,YAAY;IAC5C;EACF,CAAC;EACDK,OAAO,EAAE;IACDC,aAAa,WAAbA,aAAaA,CAAA,EAAG;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,OAAA,EAAAC,QAAA;QAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAA,MAEd,CAACV,KAAI,CAACH,IAAG,IAAK,CAACG,KAAI,CAACH,IAAI,CAACe,EAAE;gBAAAH,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAC7BE,KAAK,CAAC,wCAAwC,CAAC;cAAA,OAAAJ,QAAA,CAAAK,MAAA;YAAA;cAI3CT,OAAM,GAAI;gBACdnB,IAAI,EAAEc,KAAI,CAACd,IAAI;gBACfG,eAAe,EAAEW,KAAI,CAACX,eAAe;gBACrCC,eAAe,EAAEU,KAAI,CAACV,eAAe;gBACrCC,WAAW,EAAES,KAAI,CAACT,WAAW;gBAC7BC,SAAS,EAAEQ,KAAI,CAACR,SAAS;gBACzBC,YAAY,EAAEO,KAAI,CAACP;cACrB,CAAC,EAED;cAAAgB,QAAA,CAAAE,IAAA;cAAA,OACuB1B,GAAG,CAAC8B,GAAG,0CAAAC,MAAA,CAA0ChB,KAAI,CAACH,IAAI,CAACe,EAAE,GAAIP,OAAO,CAAC;YAAA;cAA1FC,QAAO,GAAAG,QAAA,CAAAQ,IAAA;cACb;cACA;;cAEAJ,KAAK,CAAC,+BAA+B,CAAC;cAAAJ,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAS,EAAA,GAAAT,QAAA;cAEtCU,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAAX,QAAA,CAAAS,EAAO,CAAC;cAC7CL,KAAK,CAAC,sDAAsD,CAAC;YAAA;YAAA;cAAA,OAAAJ,QAAA,CAAAY,IAAA;UAAA;QAAA,GAAAjB,OAAA;MAAA;IAEjE;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}